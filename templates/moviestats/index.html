<!DOCTYPE html>
<html lang="en" ng-app="MoviesApp">

<head>
    <meta charset="UTF-8">
    <title>Movie Recommendations</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href= "../../static/moviestats/style/style.css">

    <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src = "../../static/moviestats/js/movies_script.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.3/ui-bootstrap-tpls.min.js"></script>


</head>


<body ng-controller="mainController" >

<div id="home">
    <h1> Movies Recommendations </h1>

    <div id="prefer_form">

        <form ng-submit="submit()" id="preferences">

            <div id="form_columns">
                <div id="person_properties" class="form-group">

                    <h4> Actors and Director Properties</h4>

                    <p id="select_actor_div">
                        <label for="select_actor">
                            choose actor:
                        </label>

                        <input type="text" id="select_actor" class="form-control" ng-model="formData.actor" typeahead-editable='false'
                               uib-typeahead="a.name for a in actors | filter:$viewValue | limitTo:8">

                    </p>

                    <p id="select_age">

                        <label>
                            Choose birth year of the movie's actors
                        </label>
                        <br>

                        <select  ng-model="formData.selected_age" ng-disabled="formData.actor"
                                 ng-required="!formData.selected_actor || !formData.selected_country"
                                 ng-options="actor.year for actor in actors" form="preferences">
                            <option value="" selected > Year </option>
                        </select>
                    </p>

                    <p id="select_country">
                        <label>
                            choose the birth place of the film's actors
                        </label>
                        <br>

                        <select ng-model="formData.actor_country" ng-disabled="formData.actor"
                                ng-required="!formData.actor || !formData.actor_age"
                                ng-options="actor.country for actor in actors" form="preferences" >

                            <option value="" selected > Country </option>
                        </select>

                    </p>
                    <p id="select_director">
                        <label >
                            choose director:
                        </label>
                        <input type="text" class="form-control" ng-model="formData.director"
                               ng-required="!formData.actor || !formData.actor_age || !formData.actor_country"
                               uib-typeahead="a.name for a in actors | filter:$viewValue | limitTo:8" >
                    </p>


                </div>

                <div id="film_properties" class="form-group">

                    <p>
                        <h4> Film Properties</h4>
                    </p>

                    <p id="select_genre">
                        <label for="select_genre">
                            Choose preferred genre :
                        </label>
                        <br>
                        <select ng-model="formData.film_genre" ng-options="genre for genre in genres" form="preferences"
                                ng-required = "!formData.film_location || !formData.film_language" >

                            <option value="" selected > Genres </option>
                        </select>
                    </p>

                    <p id="select_movie_location">

                        <label for="movie_location">
                            Film Location
                        </label>
                        <input id="movie_location" type="text" class="form-control" ng-model="formData.film_location" maxlength="30"
                               ng-required = "!formData.film_genre || !formData.film_language"
                               uib-typeahead="country for country in countries | filter:$viewValue | limitTo:8">

                    </p>

                    <p id="film_language_p">
                        <label for="film_language">
                            Film Language
                        </label>

                        <input id="film_language" type="text" class="form-control" ng-model="formData.film_language" maxlength="30"
                               ng-required = "!formData.film_genre || !formData.film_location"
                               uib-typeahead="language for language in languages | filter:$viewValue | limitTo:8">
                    </p>

                    <p id="youtube_views">

                        <p>
                            <label for="youtube_min_views">
                                Minimal number of views in YouTube
                            </label>
                        </p>
                        <input id="youtube_min_views" type="number" ng-model="formData.min_views" ng-required="!formData.max_likes">

                    </p>

                    <p id="max_likes">

                        <span>
                            <label for="youtube_max_likes">
                                Choose most popular film (by likes)
                            </label>
                        </span>
                        <span>
                            <input id="youtube_max_likes" type="checkbox" ng-model="formData.max_likes">
                        </span>

                    </p>
                </div>

                <div id="submit_result">
                    <input type="submit" value="Show Trailers" class="btn btn-primary" >
                </div>

            </div>

        </form>

    </div>
<!--
    <div id="show_results">
        <table id="results_table">

            <tr>
                <td ng-repeat="col in results_cols">{{col}}</td>
            </tr>

            <tr ng-repeat="result in results_contents">
                <td ng-if="results_cols.indexOf('Actor') != -1">{{result.actor}}</td>
                <td>{{result.year}}</td>
                <td>{{result.language}}</td>
            </tr>

        </table>

        <br><br><span id="debug"></span><br>
    </div>

    <div id="trailers">
        <iframe width="720" height="405" src="{{youtube_url}}" frameborder="0" allowfullscreen></iframe>
    </div>
-->
    <div id="show_results">
        <table>

            <tr>
                <td>
                    <div id="trailers">
                        <iframe width="720" height="405" src="{{youtube_url}}" frameborder="0" allowfullscreen></iframe>
                    </div>
                </td>
                <td>
                    <table id="results_table">
                        <tr>
                            <button id="previous" type="button" class="btn btn-primary" ng-click="previous_disabled || click_previous()">Previous</button>
                            <button id="next" type="button" class="btn btn-primary" ng-click="next_disabled || click_next()">Next</button>
                        </tr>
                        <!--tr>
                            <td ng-repeat="col in results_cols">{{col}}</td>
                        </tr>

                        <tr ng-repeat="result in results_contents" ng-show="show_item == $index">
                            <td ng-if="results_cols.indexOf('Actor') != -1" >{{result.actor}}</td>
                            <td ng-if="results_cols.indexOf('Year') != -1">{{result.year}}</td>
                            <td ng-if="results_cols.indexOf('Language') != -1">{{result.language}}</td>
                        </tr-->

                        <tbody ng-repeat="result in results_contents" ng-show="show_item == $index">
                            <tr ng-if="results_cols.indexOf('Actor') != -1">
                                <td>
                                    Actor: {{result.actor}}
                                </td>
                            </tr>
                            <tr ng-if="results_cols.indexOf('Year') != -1">
                                <td>
                                    Year: {{result.year}}
                                </td>
                            </tr>
                            <tr ng-if="results_cols.indexOf('Language') != -1">
                                <td>
                                    Language: {{result.language}}
                                </td>
                            </tr>
                            <tr ng-if="results_cols.indexOf('Description') != -1">
                                <td>
                                    Description: {{result.description}}
                                </td>
                            </tr>
                        </tbody>

                    </table>
                </td>
            </tr>

        </table>
        <br><br><span id="debug"></span><br>
    </div>

</div>


</body>

</html>














